<div class="search-results"
     *ngIf="posts; else listLoading">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6 mb-3" *ngFor="let feed of posts.content | listReverse; let i = index;">
                <mat-card>
                    <mat-card-header class="header">
                        <div class="subheading-2 title">{{isAdmin() ? "Tagging tool" : "Tags"}}</div>
                        <div class="header-actions">
                            <app-tag-tool [(post)]="posts.content[i]" [canEdit]="isAdmin()"></app-tag-tool>
                        </div>
                    </mat-card-header>
                    <img mat-card-image
                         [src]="feed.imageUrl || 'https://placeimg.com/640/480/tech/' + i"
                         alt="Image place holder">
                    <mat-card-content>
                        <mat-card-title>{{feed.title}}</mat-card-title>
                        <mat-card-subtitle>Published on {{feed.created_at | date}}</mat-card-subtitle>
                        <mat-divider [inset]="true"></mat-divider>
                        <p>
                            {{feed.content | truncate:[350, '...']}}
                        </p>
                    </mat-card-content>
                    <a [href]="feed.url"
                       mat-icon-button
                       [disableRipple]="true"
                       class="continue-link w-100 text-right"
                       target="_blank">
                        Read more <i class="material-icons">chevron_right</i>
                    </a>
                </mat-card>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <mat-paginator [length]="posts.total"
                               [pageSize]="10"
                               (page)="onPageChange($event)"
                               [pageIndex]="posts.page_request.page - pageIndexSubtractor">
                </mat-paginator>
            </div>
        </div>
    </div>
</div>


<ng-template #listLoading>
    <div class="container-fluid">
        <div class="col-sm-12">
            <span translate>APP.LOADING</span>
        </div>
    </div>
</ng-template>