<div class="search-results"
     *ngIf="posts; else listLoading">

    <div class="container-fluid">
        <table class="list-alerts news-feed-header-table"
               id="news-feed-list"
               *ngIf="posts.content.length > 0; else noResults">

            <tbody>
            <tr *ngFor="let feed of posts.content; let i = index;" class="news-feed-tr">
                <td class="py-2 text-center">
                    <span class="news-feed-header-date font-weight-light">
                        {{feed.published_at | date: 'short'}}
                    </span>
                </td>
                <td>
                    <a href="#"
                       (click)="selectPost.emit(feed); $event.preventDefault()" class="news-feed-header px-1 py-1">
                        <span [ngClass]="getSentimentCssClass(feed) + ' news-feed-header font-weight-light'">
                            {{feed.title | truncate:[65, '...']}}
                        </span>
                        <app-tag-tool [post]="posts.content[i]" [canEdit]="false"></app-tag-tool>
                    </a>
                </td>
                <td>
                    <app-tag-tool [(post)]="posts.content[i]" *ngIf="isAdmin()"></app-tag-tool>
                </td>
            </tr>
            </tbody>
        </table>

        <div class="row">
            <div class="col-md my-2 mx-1">
                <mat-paginator [length]="posts.total"
                               [pageSize]="10"
                               (page)="onPageChange($event)"
                               [pageIndex]="posts.page_request.page - pageIndexSubtractor">
                </mat-paginator>
            </div>
        </div>
    </div>


    <ng-template #noResults>
        <span translate>ERROR.404.RESULTS</span>
    </ng-template>
</div>

<ng-template #listLoading>
    <span translate>APP.LOADING</span>
</ng-template>